--- hash.c	Fri Sep 29 17:48:44 2006
+++ hash.c	Fri Jan 11 17:49:22 2008
@@ -19,13 +19,11 @@
  * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA
  */
 #include <stdio.h>
 #include <stdarg.h>
 
-#include "windef.h"
-#include "winbase.h"
-#include "winnls.h"
+#include <host/nls.h>
 
 #include "hash.h"
 
 static const unsigned char Lookup_16[128 * 3] = {
  /* Common */
@@ -533,17 +531,24 @@
   case LANG_ROMANIAN:   case LANG_SANSKRIT:   case LANG_SERBIAN:
   case LANG_SINDHI:     case LANG_SLOVENIAN:  case LANG_SWAHILI:
   case LANG_SWEDISH:    case LANG_SYRIAC:     case LANG_TAMIL:
   case LANG_TATAR:      case LANG_TELUGU:     case LANG_THAI:
   case LANG_UKRAINIAN:  case LANG_URDU:       case LANG_UZBEK:
+#ifndef __REACTOS__
   case LANG_VIETNAMESE: case LANG_GAELIC:     case LANG_MALTESE:
   case LANG_TAJIK:      case LANG_ROMANSH:    case LANG_IRISH:
   case LANG_SAMI:       case LANG_UPPER_SORBIAN: case LANG_SUTU:
   case LANG_TSONGA:     case LANG_TSWANA:     case LANG_VENDA:
   case LANG_XHOSA:      case LANG_ZULU:       case LANG_ESPERANTO:
   case LANG_WALON:      case LANG_CORNISH:    case LANG_WELSH:
   case LANG_BRETON:
+#else
+  case LANG_VIETNAMESE: case LANG_MALTESE:    case LANG_IRISH:
+  case LANG_SAMI:       case LANG_UPPER_SORBIAN:  case LANG_TSWANA:
+  case LANG_XHOSA:      case LANG_ZULU:       case LANG_WELSH:
+  case LANG_BRETON:
+#endif
     nOffset = 16;
     pnLookup = Lookup_16;
     break;
   case LANG_CZECH:  case LANG_HUNGARIAN:  case LANG_POLISH:
   case LANG_SLOVAK: case LANG_SPANISH:
--- server.c	Sat Jan 05 20:48:36 2008
+++ server.c	Fri Jan 11 17:49:21 2008
@@ -388,10 +388,11 @@
         error("Could not open %s for output\n", server_name);
 
     print_server("/*** Autogenerated by WIDL %s from %s - Do not edit ***/\n", PACKAGE_VERSION, input_name);
     print_server("#include <string.h>\n");
     fprintf(server, "\n");
+    print_server("#define _SEH_NO_NATIVE_NLG\n");
     print_server("#include \"%s\"\n", header_name);
     fprintf(server, "\n");
 }
 
 
--- typelib.c	Sat Jan 05 20:48:36 2008
+++ typelib.c	Fri Jan 11 17:49:21 2008
@@ -33,12 +33,11 @@
 #include <signal.h>
 
 #define NONAMELESSUNION
 #define NONAMELESSSTRUCT
 
-#include "windef.h"
-#include "winbase.h"
+#include <host/typedefs.h>
 
 #include "widl.h"
 #include "utils.h"
 #include "parser.h"
 #include "header.h"
--- widl.c	Sat Jan 05 20:48:36 2008
+++ widl.c	Fri Jan 11 17:49:21 2008
@@ -547,10 +547,15 @@
       return 1;
     }
   }
 
   if(do_header) {
+    if (strrchr(header_name, '\\'))
+        header_token = make_token(strrchr(header_name, '\\') + 1);
+    else if (strrchr(header_name, '/'))
+        header_token = make_token(strrchr(header_name, '/') + 1);
+    else
     header_token = make_token(header_name);
 
     if(!(header = fopen(header_name, "w"))) {
       fprintf(stderr, "Could not open %s for output\n", header_name);
       return 1;
--- widltypes.h	Sat Jan 05 20:48:36 2008
+++ widltypes.h	Fri Jan 11 17:49:22 2008
@@ -19,10 +19,17 @@
  */
 
 #ifndef __WIDL_WIDLTYPES_H
 #define __WIDL_WIDLTYPES_H
 
+#define S_OK           0
+#define S_FALSE        1
+#define E_OUTOFMEMORY  ((HRESULT)0x8007000EL)
+#define TYPE_E_IOERROR ((HRESULT)0x80028CA2L)
+
+#define max(a, b) ((a) > (b) ? a : b)
+
 #include <stdarg.h>
 #include "guiddef.h"
 #include "wine/rpcfc.h"
 #include "wine/list.h"
 
--- write_msft.c	Sat Jan 05 20:48:36 2008
+++ write_msft.c	Fri Jan 11 17:49:22 2008
@@ -38,14 +38,12 @@
 #include <time.h>
 
 #define NONAMELESSUNION
 #define NONAMELESSSTRUCT
 
-#include "winerror.h"
-#include "windef.h"
-#include "winbase.h"
-#include "winnls.h"
+#include <host/typedefs.h>
+#include <host/nls.h>
 
 #include "widltypes.h"
 #include "typelib.h"
 #include "typelib_struct.h"
 #include "utils.h"
