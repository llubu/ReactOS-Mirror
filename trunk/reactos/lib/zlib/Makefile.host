# $Id: Makefile.host,v 1.1 2003/08/24 10:36:06 chorns Exp $
PATH_TO_TOP = ../..

TARGET = zlib.host.a

CFLAGS = \
 -MMD -O3 -Wall -Wwrite-strings -Wpointer-arith -Wconversion \
 -Wstrict-prototypes -Wmissing-prototypes

OBJECTS = \
  adler32.o \
  compress.o \
  crc32.o \
  gzio.o \
  uncompr.o \
  deflate.o \
  trees.o \
  zutil.o \
  inflate.o \
  infblock.o \
  inftrees.o \
  infcodes.o \
  infutil.o \
  inffast.o

all: hostobjs $(TARGET)

hostobjs:
	- $(RMKDIR) hostobjs

%.o: %.c
	$(HOST_CC) $(CFLAGS) -c $< -o hostobjs/$@

$(TARGET): $(OBJECTS)
	$(HOST_AR) -r $(TARGET) $(addprefix hostobjs/, $(OBJECTS))

clean:
	- $(RM) hostobjs/*
	- $(RM) $(TARGET)
	- $(RMDIR) hostobjs

.phony: clean

include $(PATH_TO_TOP)/rules.mak
